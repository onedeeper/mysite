<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="A reproducability checklist" />
<meta property="og:type" content="book" />




<meta name="author" content="Udesh Habaraduwa" />

<meta name="date" content="2025-04-08" />


<meta name="description" content="A reproducability checklist">

<title>A reproducability checklist</title>

<link href="libs/tufte-css/tufte-fonts.css" rel="stylesheet" />
<link href="libs/tufte-css/tufte-background.css" rel="stylesheet" />
<link href="libs/tufte-css/tufte-italics.css" rel="stylesheet" />
<link href="libs/tufte-css/tufte.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="mycss.css" type="text/css" />

</head>

<body>



<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="#python-best-practices" id="toc-python-best-practices"><span class="toc-section-number">1</span> <span style="font-style: normal;">üêç</span> Python Best Practices</a></li>
<li><a href="#reproducibility-measures" id="toc-reproducibility-measures"><span class="toc-section-number">2</span> <span style="font-style: normal;">üîÑ</span> Reproducibility Measures</a></li>
<li><a href="#project-organization" id="toc-project-organization"><span class="toc-section-number">3</span> <span style="font-style: normal;">üß©</span> Project Organization</a></li>
<li><a href="#installation-and-environment-management" id="toc-installation-and-environment-management"><span class="toc-section-number">4</span> <span style="font-style: normal;">üì¶</span> Installation and Environment Management</a></li>
<li><a href="#cross-platform-compatibility" id="toc-cross-platform-compatibility"><span class="toc-section-number">5</span> <span style="font-style: normal;">üíª</span> Cross-Platform Compatibility</a></li>
<li><a href="#documentation" id="toc-documentation"><span class="toc-section-number">6</span> <span style="font-style: normal;">üìã</span> Documentation</a></li>
<li><a href="#testing-framework" id="toc-testing-framework"><span class="toc-section-number">7</span> <span style="font-style: normal;">üîç</span> Testing Framework</a></li>
<li><a href="#data-management" id="toc-data-management"><span class="toc-section-number">8</span> <span style="font-style: normal;">üìä</span> Data Management</a></li>
<li><a href="#debugging-and-error-handling" id="toc-debugging-and-error-handling"><span class="toc-section-number">9</span> <span style="font-style: normal;">üêû</span> Debugging and Error Handling</a></li>
<li><a href="#additional-software-engineering-best-practices" id="toc-additional-software-engineering-best-practices"><span class="toc-section-number">10</span> <span style="font-style: normal;">üîß</span> Additional Software Engineering Best Practices</a></li>
<li><a href="#reporting-and-visualization" id="toc-reporting-and-visualization"><span class="toc-section-number">11</span> <span style="font-style: normal;">üìù</span> Reporting and Visualization</a></li>
<li><a href="#project-management" id="toc-project-management"><span class="toc-section-number">12</span> <span style="font-style: normal;">üéØ</span> Project Management</a></li>
<li><a href="#references" id="toc-references"><span class="toc-section-number">13</span> References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="header">
<h1 class="title">A reproducability checklist</h1>
<h3 class="subtitle"><em>Useful strategies I‚Äôve used to make my research code more reproducible</em></h3>
<h4 class="author"><em>Udesh Habaraduwa</em></h4>
<h4 class="date"><em>2025-04-08</em></h4>
</div>
<div id="python-best-practices" class="section level2" number="1">
<h2><span class="header-section-number">1</span> <span style="font-style: normal;">üêç</span> Python Best Practices</h2>
<ol style="list-style-type: decimal">
<li><p><strong>Keep it simple</strong>: Think of the bachelor‚Äôs student that might eventually be forced to read your paper. Some coding patterns are fancy and can be written in one line. They can also be no more performant than a more verbose implementation. In a research setting, it can often be more useful to lean towards readability. Avoid premature optimization <span class="citation">[<a href="#ref-knuth1974structured">1</a>]</span>, <span class="citation">[<a href="#ref-NoAuthor">2</a>]</span>)</p></li>
<li><p><strong>Use descriptive variable names</strong>: Avoid single-letter variables except for widely understood conventions (e.g., i for loop counters). <code>num_epochs</code> is better than <code>n_e</code>. <code>participant_data</code> is better than pd (which could be confused with pandas).</p></li>
<li><p><strong>Use type hints</strong>: Help others understand your code with Python type annotations. Document expected input/output types. Enable static type checking for early error detection.</p></li>
<li><p><strong>Provide progress feedback</strong>: Use progress bars (tqdm) for long-running operations. Show estimated completion times for lengthy processes. Consider researchers waiting for results when designing feedback systems.</p></li>
<li><p><strong>Use version control meaningfully</strong>: Write descriptive commit messages. Tag releases that correspond to paper submissions or publications. Include a <code>.gitignore</code> file to avoid committing data, results, or credentials.</p></li>
<li><p><strong>Follow the Zen of Python <span class="citation">[<a href="#ref-pep20">3</a>]</span></strong>: ‚ÄúExplicit is better than implicit‚Äù. ‚ÄúFlat is better than nested‚Äù. ‚ÄúReadability counts‚Äù.</p></li>
<li><p><strong>Include examples</strong>: Provide notebooks or scripts demonstrating typical workflows. Include sample data when possible. Show expected outputs to help verify correct setup.</p></li>
</ol>
</div>
<div id="reproducibility-measures" class="section level2" number="2">
<h2><span class="header-section-number">2</span> <span style="font-style: normal;">üîÑ</span> Reproducibility Measures</h2>
<ol start="8" style="list-style-type: decimal">
<li><p><strong>Consistent random seed management</strong>: Centralized seed setting across all libraries (Python random, NumPy, PyTorch, scikit-learn). Implementation in (e.g., <code>utils/seed.py</code>) with cross-library support. Singleton configuration pattern in (e.g., <code>config.py</code>) to ensure seeds are consistent throughout the codebase.</p></li>
<li><p><strong>Deterministic computation</strong>: PyTorch configured for deterministic behavior. Even though this is a little bit slower, it probably doesn‚Äôt matter for us because we are not putting these systems out in production.</p></li>
</ol>
</div>
<div id="project-organization" class="section level2" number="3">
<h2><span class="header-section-number">3</span> <span style="font-style: normal;">üß©</span> Project Organization</h2>
<ol start="10" style="list-style-type: decimal">
<li><p><strong>Clear point of entry</strong>: Often it can be quite confusing to know where to start with a code base. A clear point of entry documented in the README can serve as as ‚ÄúStart here‚Äù on a map.</p></li>
<li><p><strong>Modular Structure</strong>: When something goes wrong, it is useful to be able to isolate the problem. Clear separation of components (e.g., <code>preprocessing</code>, <code>models</code>, <code>dataloader</code>). Logical package hierarchy following software engineering principles. Each module has a specific responsibility (Single Responsibility Principle <span class="citation">[<a href="#ref-martin2003srp">4</a>]</span>).</p></li>
<li><p><strong>Standardized directory layout</strong>: Well-documented project structure in README. Consistent organization for code, data, tests, and documentation.</p></li>
</ol>
</div>
<div id="installation-and-environment-management" class="section level2" number="4">
<h2><span class="header-section-number">4</span> <span style="font-style: normal;">üì¶</span> Installation and Environment Management</h2>
<ol start="13" style="list-style-type: decimal">
<li><p><strong>Dependency management</strong>: Conda environment specifications in <code>environment.yml</code>. Development mode installation with <code>-e</code> flag. This way, any changes you make easily propagates through the entire code base. Graceful handling of optional dependencies using try/except blocks.</p></li>
<li><p><strong>Automation scripts</strong>: Liberal use of automations to make the process of reproducing your results effortless. For example, shell script (e.g., <code>clean.sh</code>) to automate preprocessing pipeline execution. Use Automated environment setup and activation (e.g., <code>setup.sh</code>).</p></li>
</ol>
</div>
<div id="cross-platform-compatibility" class="section level2" number="5">
<h2><span class="header-section-number">5</span> <span style="font-style: normal;">üíª</span> Cross-Platform Compatibility</h2>
<ol start="15" style="list-style-type: decimal">
<li><p><strong>OS-Specific Considerations</strong>: Detailed troubleshooting sections for Windows, macOS, and Linux. Line ending management for Windows systems. WSL recommendations for better Windows compatibility.</p></li>
<li><p><strong>Path Handling</strong>: Platform-independent path management. Clear instructions for different operating systems.</p></li>
</ol>
</div>
<div id="documentation" class="section level2" number="6">
<h2><span class="header-section-number">6</span> <span style="font-style: normal;">üìã</span> Documentation</h2>
<ol start="17" style="list-style-type: decimal">
<li><p><strong>Comprehensive README</strong><label for="tufte-sn-1" class="margin-toggle sidenote-number">1</label><input type="checkbox" id="tufte-sn-1" class="margin-toggle"><span class="sidenote"><span class="sidenote-number">1</span> Any modern language model (LLM) can do this really well. There is really no excuse for not having good documentation anymore. Simply show it your code, and ask it to update your README. This is even easier if you are using a development environment with an LLM (e.g., cursor or Github Copilot).</span>: Clear project overview and purpose. Step-by-step installation instructions. Detailed usage examples. Troubleshooting guidance.</p></li>
<li><p><strong>Code Documentation</strong>: Docstrings following standard format (parameters, returns, descriptions). Module-level documentation explaining purpose and components. Comments explaining complex logic or algorithms.</p></li>
<li><p><strong>Sub-module Documentation</strong>: Dedicated README files for key components (e.g., preprocessing). Explanation of component interactions.</p></li>
</ol>
</div>
<div id="testing-framework" class="section level2" number="7">
<h2><span class="header-section-number">7</span> <span style="font-style: normal;">üîç</span> Testing Framework</h2>
<ol start="20" style="list-style-type: decimal">
<li><p><strong>Test Suite Setup</strong>: Pytest configuration. Test data management. Conditional test execution based on data availability.<label for="tufte-sn-2" class="margin-toggle sidenote-number">2</label><input type="checkbox" id="tufte-sn-2" class="margin-toggle"><span class="sidenote"><span class="sidenote-number">2</span> I use coding language models for this purpose. I find them really helpful at coming up with testcases, especially ones that you might not think about. It probably doesn‚Äôt make sense to test every possible thing (certainly a point of diminishing return). I find specifically asking for <strong>high leverage</strong> tests useful.</span>.</p></li>
<li><p><strong>Example Tests</strong>: Unit test examples provided. Clear instructions for running tests.</p></li>
</ol>
</div>
<div id="data-management" class="section level2" number="8">
<h2><span class="header-section-number">8</span> <span style="font-style: normal;">üìä</span> Data Management</h2>
<ol start="22" style="list-style-type: decimal">
<li><p><strong>Data Organization</strong>: Clear directory structure for data files. Visual representation of expected data layout. Instructions for data acquisition (including data usage agreement requirements)<label for="tufte-sn-3" class="margin-toggle sidenote-number">3</label><input type="checkbox" id="tufte-sn-3" class="margin-toggle"><span class="sidenote"><span class="sidenote-number">3</span> Please take the time to find out where the data you used came from and how others can get access to it.</span>.</p></li>
<li><p><strong>Data Preprocessing Pipeline</strong>: Standardized preprocessing steps. Output format specifications.</p></li>
</ol>
</div>
<div id="debugging-and-error-handling" class="section level2" number="9">
<h2><span class="header-section-number">9</span> <span style="font-style: normal;">üêû</span> Debugging and Error Handling</h2>
<ol start="24" style="list-style-type: decimal">
<li><p><strong>Verbose Output Options</strong>: Instructions for enabling detailed logging. Configuration for different levels of verbosity.</p></li>
<li><p><strong>Graceful Error Handling</strong>: Informative error messages. Fallback mechanisms for non-critical features.</p></li>
</ol>
</div>
<div id="additional-software-engineering-best-practices" class="section level2" number="10">
<h2><span class="header-section-number">10</span> <span style="font-style: normal;">üîß</span> Additional Software Engineering Best Practices</h2>
<ol start="26" style="list-style-type: decimal">
<li><p><strong>Configuration Management</strong>: Centralized configuration through <code>Config</code> class and environmental variables. Separation of code and configuration.</p></li>
<li><p><strong>Utility Functions</strong>: Reusable utility modules. Consistent error handling patterns.</p></li>
<li><p><strong>Version Control Guidance</strong>: Git configuration advice. .gitignore for data and environment files.</p></li>
</ol>
</div>
<div id="reporting-and-visualization" class="section level2" number="11">
<h2><span class="header-section-number">11</span> <span style="font-style: normal;">üìù</span> Reporting and Visualization</h2>
<ol start="29" style="list-style-type: decimal">
<li><strong>Plotting Utilities</strong>: Non-interactive backend configuration for environments without a graphical user interface (e.g., running on a remote cluster). This means that you should set up plotting to save to disk, rather than displaying to screen. Use standardized visualization functions. Include example notebooks for analysis workflows.</li>
</ol>
</div>
<div id="project-management" class="section level2" number="12">
<h2><span class="header-section-number">12</span> <span style="font-style: normal;">üéØ</span> Project Management</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;thesis_trello_2.jpeg&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:trello-thesis"></span>
<p class="caption marginnote shownote">
Figure 1: A project management space (pick your favorite, I use Trello for no particular reason except that it works). Keep it simple, include collaborators, use comments liberally so people can know what you‚Äôre upto.
</p>
<img src="thesis_trello_2.jpeg" alt="A project management space (pick your favorite, I use Trello for no particular reason except that it works).  Keep it simple, include collaborators, use comments liberally so people can know what you're upto."  />
</div>
<ol start="30" style="list-style-type: decimal">
<li><p><strong>Collaboration space</strong>: Use a space (e.g., Trello) to keep track of what you are up to. <strong>I have tried to work such that no-one actually needs to talk to me to simply get an update</strong>. This helps you come back to your work without having to spend hours trying to remember where you left off. It helps collaborators keep up with what‚Äôs going on without having to have <strong>wasteful meetings</strong> <span class="citation">[<a href="#ref-37signals_getting_real">5</a>]</span>. It makes meetings faster as you have already taken notes along the way. I use a simple Trello board with an Agile workflow. I decompose from big (Epics) to small tasks (to-do). You can find plenty of sources on online for this approach.</p></li>
<li><p><strong>Github Issues</strong>: Issues make it easy for everyone to know what‚Äôs going on. I use the following issue template. It follows the principles of conjectures (guessing) and refutations (testing) <span class="citation">[<a href="#ref-popper2002conjectures">6</a>]</span>.</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;issues.jpeg&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:issues"></span>
<p class="caption marginnote shownote">
Figure 2: Github issues. Written this way, I find that I can always come back to understand what I changed at any given time, and why. Maybe I want to avoid trying an idea that I‚Äôve already considered? That will be found here.
</p>
<img src="issues.jpeg" alt="Github issues. Written this way, I find that I can always come back to understand what I changed at any given time, and why. Maybe I want to avoid trying an idea that I've already considered? That will be found here."  />
</div>
<ol style="list-style-type: decimal">
<li><em>Whats happening?</em>: A clear description of the problem, with images and examples if possible.</li>
<li><em>What could it be?</em>: Best guesses at what is causing the problem.</li>
<li><em>How can they be tested?</em>: Ideas on how our best guesses can be tested.</li>
<li><em>What was found?</em>: The ultimate source of the problem, potentially from the initial best guesses but not always.</li>
<li><em>How was it fixed?</em>: The fix that was ultimately implemented after trying out some solutions.</li>
</ol>
</div>
<div id="references" class="section level2" number="13">
<h2><span class="header-section-number">13</span> References</h2>
<hr />
<div id="refs" class="references csl-bib-body">
<div id="ref-knuth1974structured" class="csl-entry">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Knuth, D.E. (1974). Structured programming with go to statements. ACM Computing Surveys <em>6</em>, 261‚Äì301. <a href="https://doi.org/10.1145/356635.356640">10.1145/356635.356640</a>.</div>
</div>
<div id="ref-NoAuthor" class="csl-entry">
<div class="csl-left-margin">2. </div><div class="csl-right-inline"><a href="https://wiki.c2.com/?PrematureOptimization">PrematureOptimization</a>.</div>
</div>
<div id="ref-pep20" class="csl-entry">
<div class="csl-left-margin">3. </div><div class="csl-right-inline">Peters, T. <a href="https://peps.python.org/pep-0020/">PEP 20: The zen of python</a>.</div>
</div>
<div id="ref-martin2003srp" class="csl-entry">
<div class="csl-left-margin">4. </div><div class="csl-right-inline">Martin, R.C. (2003). <a href="https://en.wikipedia.org/wiki/Single-responsibility_principle">The single responsibility principle</a>. Agile Software Development, Principles, Patterns, and Practices.</div>
</div>
<div id="ref-37signals_getting_real" class="csl-entry">
<div class="csl-left-margin">5. </div><div class="csl-right-inline">37signals <a href="https://books.37signals.com/8/getting-real/107/meetings-are-toxic">Getting real</a>.</div>
</div>
<div id="ref-popper2002conjectures" class="csl-entry">
<div class="csl-left-margin">6. </div><div class="csl-right-inline">Popper, K.R. (2002). Conjectures and refutations: The growth of scientific knowledge (London: Routledge).</div>
</div>
</div>
</div>
<p style="text-align: center;">
</p>
</div>
</div>



</body>
</html>
